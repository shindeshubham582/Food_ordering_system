{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shubhams/Documents/Work/temp/React/Food Ordering system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/shubhams/Documents/Work/temp/React/Food Ordering system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/shubhams/Documents/Work/temp/React/Food Ordering system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react/cjs/react.development\";import classes from\"./AvailableMeals.module.css\";import Card from\"../UI/Card\";import MealItem from\"./MealItem/MealItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AvailableMeals=function AvailableMeals(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),meals=_useState2[0],setIsMeals=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),hasError=_useState6[0],setHasError=_useState6[1];useEffect(function(){console.log('effect');function fetchMeals(){return _fetchMeals.apply(this,arguments);}function _fetchMeals(){_fetchMeals=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,responseData,mealsData,key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return fetch(\"https://react-http-a44c2-default-rtdb.firebaseio.com/meals.json\");case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error('something went wrong');case 6:_context.next=8;return response.json();case 8:responseData=_context.sent;mealsData=[];for(key in responseData){mealsData.push({id:key,name:responseData[key].name,description:responseData[key].description,price:responseData[key].price});}setIsMeals(mealsData);setIsLoading(false);case 13:case\"end\":return _context.stop();}}},_callee);}));return _fetchMeals.apply(this,arguments);};fetchMeals().catch(function(error){setIsLoading(false);console.log(error);setHasError(error.message);});},[]);if(isLoading){return/*#__PURE__*/_jsx(\"section\",{className:classes.MealsLoading,children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading......\"})});}if(hasError){return/*#__PURE__*/_jsx(\"section\",{className:classes.MealsError,children:/*#__PURE__*/_jsxs(\"p\",{children:[\" \",hasError]})});}var mealList=meals.map(function(meal){return/*#__PURE__*/_jsx(MealItem,{id:meal.id,name:meal.name,description:meal.description,price:meal.price},meal.id);});return/*#__PURE__*/_jsx(\"section\",{className:classes.meals,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(\"ul\",{children:mealList})})});};export default AvailableMeals;","map":{"version":3,"sources":["/Users/shubhams/Documents/Work/temp/React/Food Ordering system/src/Component/Meal/AvailableMeals.js"],"names":["useEffect","useState","classes","Card","MealItem","AvailableMeals","meals","setIsMeals","isLoading","setIsLoading","hasError","setHasError","console","log","fetchMeals","fetch","response","ok","Error","json","responseData","mealsData","key","push","id","name","description","price","catch","error","message","MealsLoading","MealsError","mealList","map","meal"],"mappings":"4hBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,6BAApC,CACA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,C,wFAIA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,cAA4BJ,QAAQ,CAAC,EAAD,CAApC,wCAAOK,KAAP,eAAcC,UAAd,eACA,eAAkCN,QAAQ,CAAC,KAAD,CAA1C,yCAAOO,SAAP,eAAkBC,YAAlB,eACA,eAAgCR,QAAQ,EAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eAEAX,SAAS,CAAC,UAAM,CACdY,OAAO,CAACC,GAAR,CAAY,QAAZ,EADc,QAECC,CAAAA,UAFD,wIAEd,2KACEL,YAAY,CAAC,IAAD,CAAZ,CADF,sBAEyBM,CAAAA,KAAK,CAC1B,iEAD0B,CAF9B,QAEQC,QAFR,kBAKOA,QAAQ,CAACC,EALhB,8BAMU,IAAIC,CAAAA,KAAJ,CAAU,sBAAV,CANV,8BAS6BF,CAAAA,QAAQ,CAACG,IAAT,EAT7B,QASQC,YATR,eAWQC,SAXR,CAWoB,EAXpB,CAYE,IAAWC,GAAX,GAAkBF,CAAAA,YAAlB,CAAgC,CAC9BC,SAAS,CAACE,IAAV,CAAe,CACbC,EAAE,CAAEF,GADS,CAEbG,IAAI,CAAEL,YAAY,CAACE,GAAD,CAAZ,CAAkBG,IAFX,CAGbC,WAAW,CAAEN,YAAY,CAACE,GAAD,CAAZ,CAAkBI,WAHlB,CAIbC,KAAK,CAAEP,YAAY,CAACE,GAAD,CAAZ,CAAkBK,KAJZ,CAAf,EAOD,CACDpB,UAAU,CAACc,SAAD,CAAV,CACAZ,YAAY,CAAC,KAAD,CAAZ,CAtBF,uDAFc,6CAyBb,CACCK,UAAU,GAAGc,KAAb,CAAmB,SAAAC,KAAK,CAAI,CAC1BpB,YAAY,CAAC,KAAD,CAAZ,CACAG,OAAO,CAACC,GAAR,CAAYgB,KAAZ,EACAlB,WAAW,CAACkB,KAAK,CAACC,OAAP,CAAX,CACD,CAJD,EAMH,CAhCQ,CAgCN,EAhCM,CAAT,CAkCA,GAAItB,SAAJ,CAAe,CACb,mBAAO,gBAAS,SAAS,CAAIN,OAAO,CAAC6B,YAA9B,uBACL,oCADK,EAAP,CAGD,CAED,GAAIrB,QAAJ,CAAc,CACZ,mBAAO,gBAAS,SAAS,CAAIR,OAAO,CAAC8B,UAA9B,uBACL,yBAAKtB,QAAL,GADK,EAAP,CAGD,CAED,GAAMuB,CAAAA,QAAQ,CAAG3B,KAAK,CAAC4B,GAAN,CAAU,SAACC,IAAD,qBACzB,KAAC,QAAD,EAEE,EAAE,CAAEA,IAAI,CAACX,EAFX,CAGE,IAAI,CAAEW,IAAI,CAACV,IAHb,CAIE,WAAW,CAAEU,IAAI,CAACT,WAJpB,CAKE,KAAK,CAAES,IAAI,CAACR,KALd,EACOQ,IAAI,CAACX,EADZ,CADyB,EAAV,CAAjB,CAUA,mBACE,gBAAS,SAAS,CAAEtB,OAAO,CAACI,KAA5B,uBACE,KAAC,IAAD,wBACE,oBAAK2B,QAAL,EADF,EADF,EADF,CAOD,CApED,CAsEA,cAAe5B,CAAAA,cAAf","sourcesContent":["import { useEffect, useState } from \"react/cjs/react.development\";\nimport classes from \"./AvailableMeals.module.css\";\nimport Card from \"../UI/Card\";\nimport MealItem from \"./MealItem/MealItem\";\n\n\n\nconst AvailableMeals = () => {\n  const [meals, setIsMeals] = useState([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [hasError, setHasError] = useState()\n\n  useEffect(() => {\n    console.log('effect');\n    async function fetchMeals() {\n      setIsLoading(true)\n      const response = await fetch(\n        \"https://react-http-a44c2-default-rtdb.firebaseio.com/meals.json\"\n      );\n      if (!response.ok) {\n        throw new Error('something went wrong')\n      }\n      \n      const responseData = await response.json();\n\n      const mealsData = [];\n      for (const key in responseData) {\n        mealsData.push({\n          id: key,\n          name: responseData[key].name,\n          description: responseData[key].description,\n          price: responseData[key].price\n\n        });\n      }\n      setIsMeals(mealsData)\n      setIsLoading(false)\n    };\n      fetchMeals().catch(error => {\n        setIsLoading(false);\n        console.log(error);\n        setHasError(error.message)\n      });\n   \n  }, []);\n\n  if (isLoading) {\n    return <section className = {classes.MealsLoading}>\n      <p>Loading......</p>\n    </section>\n  }\n\n  if (hasError) {\n    return <section className = {classes.MealsError}>\n      <p> {hasError}</p>\n    </section>\n  }\n\n  const mealList = meals.map((meal) => (\n    <MealItem\n      key={meal.id}\n      id={meal.id}\n      name={meal.name}\n      description={meal.description}\n      price={meal.price}\n    ></MealItem>\n  ));\n\n  return (\n    <section className={classes.meals}>\n      <Card>\n        <ul>{mealList}</ul>\n      </Card>\n    </section>\n  );\n};\n\nexport default AvailableMeals;\n"]},"metadata":{},"sourceType":"module"}